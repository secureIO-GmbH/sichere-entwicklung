/* === Vars === */
:root{
  --sidebar-w:240px;
  --news-col:minmax(300px,400px);
  --gap-x:clamp(18px,3.2vw,44px);
  --pad-top:clamp(8px,1.2vw,16px);
  --pad-side:clamp(16px,2.2vw,32px);
  --pad-left:clamp(6px,.8vw,12px);
  --brand-teal:#1a8a8b;
  --sidebar-bg:#1d2126;
}

/* === Base === */
*{box-sizing:border-box}
html,body{height:100%;overflow-x:hidden}
body{
  margin:0;background:#000;color:#e6e6e6;
  font-family:'JetBrains Mono',monospace;
  font-size:clamp(16px,1.2vw + .25rem,19px);
  line-height:1.6;
}
a{color:var(--brand-teal);text-decoration:none}

/* === Sidebar === */
.sidebar{
  position:fixed;inset:0 auto 0 0;width:var(--sidebar-w);
  background:var(--sidebar-bg);
  border-top:5px solid var(--brand-teal);border-bottom:1px solid #22272e;
  text-align:center;display:flex;flex-direction:column;align-items:center;
}
.sidebar .main-link{display:inline-flex;flex-direction:column;align-items:center;gap:6px;padding:18px 12px 0}
.sidebar h1{font-size:1.5em;color:#d9d9d9;margin:0 0 6px;padding-top:9px;text-transform:capitalize}
.sidebar .sponsor{font-size:11px;letter-spacing:.08em;color:#9aa0a6;text-transform:uppercase}
.sidebar .links{
  display:flex;flex-direction:column;letter-spacing:2px;text-transform:uppercase;
  font-size:.7em;margin-top:clamp(96px,22vh,280px);width:100%;padding:0 10px;
}
.sidebar .links a{
  display:block;margin:.35em auto 0;padding:.5em .7em;border-radius:10px;color:#77c7c8;
  transition:background .18s,color .18s,box-shadow .18s;
}
.sidebar .links a:hover{background:rgba(255,255,255,.06);color:#e9fefe;box-shadow:0 0 0 1px rgba(255,255,255,.08) inset}

/* === Content + Grid === */
.content{
  margin-left:var(--sidebar-w);
  width:auto;max-width:none;
  padding:var(--pad-top) var(--pad-side) 2em var(--pad-left);
}
.content-grid{
  display:grid;grid-template-columns:1fr var(--news-col);
  column-gap:var(--gap-x);align-items:start;
}

/* Titel */
.main .page-title{
  margin:8px 0 clamp(12px,2vw,20px);
  color:#fff;letter-spacing:.01em;font-weight:300;
  font-size:clamp(22px,2.6vw,32px);
}

/* === News rechts === */
.news{
  position:sticky;top:var(--pad-top);
  display:grid;gap:14px;min-height:1px;align-self:start;justify-self:end;
}
.news-title{margin:0 0 6px;color:#bfc4c8;font-size:12px;letter-spacing:.12em;text-transform:uppercase}
.news .card{
  background:var(--brand-teal);color:#fff;border:1px solid rgba(255,255,255,.08);
  border-radius:12px;padding:16px;
  box-shadow:0 1px 0 rgba(255,255,255,.06) inset,0 8px 22px rgba(0,0,0,.45);
  transition:transform .18s,box-shadow .18s;
}
.news .card:hover{transform:translateY(-2px);box-shadow:0 1px 0 rgba(255,255,255,.08) inset,0 12px 26px rgba(0,0,0,.55)}
.news .card h3{margin:0 0 6px;font-size:16px}
.news .card p{margin:0;font-size:14px;line-height:1.5;color:#eef}

/* Footer-Linie (links überziehen, rechts bündig) */
.site-footer hr{
  border:0;border-top:1px solid #3a3a3a;
  width:calc(100% + var(--pad-left));
  margin:0 0 0 calc(-1 * var(--pad-left));
}

/* Großbild-Newsbreite */
@media (min-width:1440px){:root{--news-col:minmax(320px,440px)}}
@media (min-width:1920px){:root{--news-col:minmax(340px,500px)}}
@media (min-width:2560px){:root{--news-col:minmax(360px,560px)}}

/* === Mobile: Sidebar als Topbar === */
@media (max-width:48em){
  .sidebar{position:static;width:100%;border-bottom:1px solid rgba(255,255,255,.06)}
  .sidebar .main-link{padding:12px 16px 4px}
  .sidebar h1{font-size:1.35em}
  .sidebar .links{align-items:stretch;gap:0;margin:8px 0 0;padding:0}
  .sidebar .links a{width:100%;text-align:center;margin:0;padding:.6em 0;border-radius:0;border-bottom:1px solid rgba(255,255,255,.06)}
  .sidebar .links a:last-child{border-bottom:none}
  .content{margin-left:0;width:100vw;padding:12px 14px 20px}
  .content-grid{display:block}
  .news{position:static;margin-top:20px}
}

/* === Mermaid-Wrapper + Responsive SVG === */
.mermaid-wrap{
  background:#0f1a20;border:1px solid #1e2c33;border-radius:12px;
  padding:clamp(12px,1.8vw,24px);margin:clamp(12px,2vw,28px) 0;
}
.mermaid{max-width:100%}
.mermaid svg .label{font-size:1em}
.mermaid .edgePath .path,.mermaid .flowchart-link{stroke:#fff!important}
.mermaid svg marker path{fill:#fff!important}

/* Zentrierte Variante */
.mermaid-wrap.is-centered{display:flex;justify-content:center;align-items:stretch;padding:clamp(12px,2vw,24px)}
.mermaid-wrap.is-centered .mermaid{width:100%;max-width:clamp(720px,80vw,1440px);margin:0 auto}
.mermaid-wrap.is-centered .mermaid svg{width:100%!important;height:auto!important;max-width:100%}
.mermaid .nodeLabel{text-transform:uppercase}

/* === Lesbarkeit Fließtext === */
.page-content,.post-content,.project-content{max-width:72ch;line-height:1.7}
@media (min-width:768px){
  .page-content p,.post-content p,.project-content p{
    text-align:justify;text-justify:inter-word;hyphens:auto;-webkit-hyphens:auto;-ms-hyphens:auto;
  }
}
@media (max-width:767px){
  .page-content p,.post-content p,.project-content p{text-align:left}
}
h1,h2,h3{text-wrap:balance}

/* Homepage-Übersicht: deutlich breiter + horizontales Scrollen */
.mermaid-wide-scroll{
  background:#0f1a20;
  border:1px solid #1e2c33;
  border-radius:12px;
  overflow-x:auto;
  overflow-y:hidden;
  padding:clamp(12px,2vw,24px);
  -webkit-overflow-scrolling:touch;
}
.mermaid-wide-scroll .mermaid{ min-width: 1600px; max-width:none; }
@media (min-width:1440px){ .mermaid-wide-scroll .mermaid{ min-width: 2200px; } }
@media (min-width:1920px){ .mermaid-wide-scroll .mermaid{ min-width: 2800px; } }
@media (min-width:2560px){ .mermaid-wide-scroll .mermaid{ min-width: 3400px; } }
.mermaid-wide-scroll .mermaid svg{ width:100% !important; height:auto !important; }

/* Zur Sicherheit: Pfeile in Weiß lassen */
.mermaid-wide-scroll .mermaid .edgePath .path,
.mermaid-wide-scroll .mermaid .flowchart-link { stroke:#ffffff !important; }
.mermaid-wide-scroll .mermaid svg marker path { fill:#ffffff !important; }
